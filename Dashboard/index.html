<!DOCTYPE html>

<html lang="en">

<head>
	<meta charset="UTF-8" />
	<title>Text with Jack</title>

	<link href="https://fonts.googleapis.com/css?family=Fira+Sans+Condensed|Pontano+Sans" rel="stylesheet"> 
	<!-- 

    font-family: 'Pontano Sans', sans-serif;

    font-family: 'Fira Sans Condensed', sans-serif;

-->
	<link rel="stylesheet" type="text/css" href="./dashboard.css">
	<link rel="stylesheet" href="./js/nv/nv.d3.css">
</head>

<body>

	<script src="./ext/d3.v3.min.js" charset="utf-8"></script>
	
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script type="text/javascript" src="./js/nv/nv.d3.js"></script>
	
	<div id="dashboard_container">
		
		<div class="bg_image_container"></div>
		<div class="blur"> </div>
		
		<div id="dashboard_content_container">
			
			<div id="dashboard_header" onclick="dashboard_header_clicked()";>
				<div id="dashboard_title" class="dashboard_text"><a>Text with Jack</div>
				<br>
				<div id="dashboard_creator" class="dashboard_text"><a>A Dashboard by Choe Choon Ho and Wong Tiong Kiat</a></div>
			</div>
			
			<div id="category_overview" class="category_container">
				<div class="header_spacer"></div>
			
				<!-- Barchart -->
				<div id="mutlibar_chart_container" class="chart_container" onclick="navigate_to_section(this, 'category_1')">
					<div class="graph_header">
						<span><a class="header_text">Distribution of Sentiment by Words</a></span>
					</div>
					
					<div id="multibar_graph_container" class="graph_container">
						<svg id="multibar_graph"></svg>
					</div>
				</div>

				<!-- Word Clouds -->
				<div id="word_clouds" class="chart_container" onclick="navigate_to_section(this, 'category_1')">

					<!-- Header -->
					<div class="graph_header">
						<span><a class="header_text">Word Cloud</a></span>
					</div>
					
					<!-- Graph -->
					<div id="wc_container" class="graph_container">
						<svg id="wc"></svg>
					</div>
				</div>

				<!-- Bubble -->
				<div id="bubble_div" class="chart_container" onclick="navigate_to_section(this, 'category_2')">
					<div class="graph_header">
						<span><a class="header_text">Bubble Chart</a></span>
					</div>
					
					<div id="bubble_container" class="graph_container"></div> <!-- not sure will work or not-->
				</div>

				<!-- Word Tree -->
				<div id="wt_container" class="chart_container" onclick="navigate_to_section(this, 'category_2')">
					<div class="graph_header">
						<span><a class="header_text">Word Tree</a></span>
					</div>
					<div id="wt"></div>
				</div>
				
			</div>
			
			
			<div id="category_1" class="category_container">
			
				<div class="header_spacer"></div>
				<!-- Barchart -->
				<div id="mutlibar_chart_container" class="chart_container" onclick="navigate_to_section(this, 'category_1')">
					<div class="graph_header">
						<span><a class="header_text">Distribution of Sentiment by Words</a></span>
					</div>
					
					<div id="multibar_graph_container" class="graph_container">
						<svg id="multibar_graph"></svg>
					</div>
				</div>

				<!-- Word Clouds -->
				<div id="fv_word_clouds" class="chart_container" onclick="navigate_to_section(this, 'category_1')">

					<!-- Header -->
					<div class="graph_header">
						<span><a class="header_text">Word Cloud</a></span>
					</div>
					
					<!-- Graph -->
					<div id="wc_container" class="graph_container">
						<svg id="wc"></svg>
					</div>
				</div>


			</div>
			
			<div id="category_2" class="category_container">
			
			</div>
			
			<div id="category_3" class="category_container">
			
			</div>
			
		</div>
		
	</div>
	
	<!-- Bar chart libraries -->
	<script type="text/javascript" src="./multibarchart.js"></script>
	
	<!-- Word cloud libraries -->
	<script type="text/javascript" src="./d3cloud.js"></script>
	<script type="text/javascript" src="./wordcloud.js"></script>
	
	<script type="text/javascript">
	
	var current_category = "#category_overview";
	
	function navigate_to_section(call, category)
	{
		current_category = "#"+category;
		var animation_duration = 2000;
		$('html, body').animate({
			scrollTop: $(current_category).offset().top
		}, animation_duration);
	}
	
	function dashboard_header_clicked()
	{
		window.open('https://github.com/jackwong95/TDS3401_DataViz', '_blank');
	}

	function get_empty_spaces(graph_id)
	{
	    var width = $(graph_id).width();
	    var height = $(graph_id).height();
	    return {"width":width, "height":height};
	}
		
	draw_multibarchart({"data":"../Data/sentiment_distribution.json", "show":20, "color":{"negative":"#B71C1C","positive":"#1B5E20"}, "order":"alpha_asc", "onclick":function(){}, 
		"svg_id":"#multibar_graph_container", "size":get_empty_spaces("#multibar_graph_container"), "margin":{top:20, left:100, right:0, bottom:0}})
	
	function filterByCategory(category)
	{
		// when cateogry clicked this function will be called. do your stuf here
		// category = imbd, amazon or yelp				
		console.log("category");
		console.log(category);
	}
	
	function wordClicked(word)
	{
		console.log("word");
		console.log(word);
	}
	
	draw_wordcloud({"data":"../Data/frequency.csv", "svg_id":"#wc", "size":get_empty_spaces("#wc_container"), 
	"color":["#FF6E40","#448AFF","#E040FB"], "margin":{top:0, left:0, right:0, bottom:0}, 
	"legend_height_offset":30, "category":{outline_bg:"#FFFFFF", click:filterByCategory}, "words":{outline_bg:"#FFFFFF", click:wordClicked}})

	  

	function concordance_integration(d) {
		concordance(
			d, // word.
			raw_data, // data.
			function(d) { // data.sentence.
				return d.sentence;
			},
			function(d) { // data.sentiment.
				if (d.sentiment) {
					return "#11AA00";
				}
				else {
					return "#C70039";
				}
			},
			15 // page size.
		);
	}
	

	//word_tree("wt", raw_data, "", function(d) { return d.sentence; }, function(d) { return (d.sentiment) ? "#11AA00" : "#C70039"; }, 30, "suffix");
	</script>
	
	<!-- Bubble libraries -->
	<script type="text/javascript" src="../BubbleChart/d3v4.js"></script>
	<script type="text/javascript" src="../BubbleChart/bubble.js"></script>
	
	<script type="text/javascript">
	
		bubble_pie_chart("bubble_container");
	
	</script>
	
</body>
</html>